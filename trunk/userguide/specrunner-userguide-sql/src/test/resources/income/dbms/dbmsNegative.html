<html>
<head>
<meta charset="ISO-8859-1" />
</head>
<body>
	<p>
	Uma conexão 
	<span class="connection" connection="org.hsqldb.jdbcDriver|jdbc:hsqldb:mem:TESTE_INICIAL|sa|" name="conA" reuse="true">A</span> 
	e uma conexão
	<span class="connection" connection="org.hsqldb.jdbcDriver|jdbc:hsqldb:mem:TESTE_FINAL|sa|" name="conB" reuse="true">B</span>.
	</p>
	
	<p>
	 <a class="scripts" href="drop.sql" value="drop.sql" failsafe="true" name="conA">Re</a>
	 <a class="scripts" href="schema.sql" value="schema.sql" name="conA">cria-se</a> o esquema de A
	  e
	 <a class="scripts" href="drop.sql" value="drop.sql" failsafe="true" name="conB">Re</a>
	 <a class="scripts" href="schema.sql" value="schema.sql" name="conB">cria-se</a> o esquema de B.
	 </p>

	<p>
	Com um 
	<span class="schemaloader" provider="org.specrunner.sql.meta.impl.SchemaLoaderXOM" reuse="true">leitor</span>
	de esquemas se carrega o
	<span class="schema" source="/income/dbms/schema.cfg.xml" reuse="true">esquema</span> esperado.
	</p>
	
	<p>
	Prepara-se o executor de comandos de 
	<span class="database" provider="org.specrunner.sql.impl.Database" reuse="true" name="dataA">A</span>
	e prepara-se o executor de comandos de 
	<span class="database" provider="org.specrunner.sql.impl.Database" reuse="true" name="dataB">B</span>.
	
	
	Por fim	prepara-se o banco de dados preenchendo com:</span>
	<table class="prepare" datasource="conA;conB" database="dataA;dataB">
		<caption>Projeto</caption>
		<thead>
			<tr>
				<th>Comando</th>
				<th>ID</th>
				<th>Nome</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>I</td>
				<td>1</td>
				<td>Nome A</td>
			</tr>
		</tbody>
	</table>
	<table class="prepare" datasource="conA;conB" database="dataA;dataB">
		<caption>Tarefa</caption>
		<thead>
			<tr>
				<th>Comando</th>
				<th>ID</th>
				<th>Nome</th>
				<th>Descrição</th>
				<th>Projeto</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>I</td>
				<td>1</td>
				<td>Tarefa 1</td>
				<td>Descr 1</td>
				<td>1</td>
			</tr>
			<tr>
				<td>I</td>
				<td>2</td>
				<td>Tarefa 2</td>
				<td></td>
				<td>1</td>
			</tr>
			<tr>
				<td>U</td>
				<td>1</td>
				<td>Tarefa 3</td>
				<td></td>
                <td></td>
			</tr>
			<tr>
				<td>D</td>
				<td>2</td>
				<td></td>
				<td></td>
                <td></td>
			</tr>
			<tr>
				<td>I</td>
				<td>3</td>
				<td>Tarefa 4</td>
				<td></td>
				<td>2</td>
			</tr>
		</tbody>
	</table>
	Depois dos dados preenchidos, adiciona-se as 
	<a class="scripts" href="constraints.sql" value="constraints.sql" name="conA">constraints</a>.
	<a class="scripts" href="constraints.sql" value="constraints.sql" name="conB">constraints</a>.

	<p>No final deve-se verificar se os valores abaixo estão lá na base de dados:</p>
	<table class="prepare" datasource="conB" database="dataB">
		<caption>Projeto</caption>
		<thead>
			<tr>
				<th>Comando</th>
				<th>ID</th>
				<th>Nome</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>I</td>
				<td>2</td>
				<td>Nome B</td>
			</tr>
		</tbody>
	</table>

	<table class="prepare" datasource="conB" database="dataB">
		<caption>Tarefa</caption>
		<thead>
			<tr>
				<th>Comando</th>
				<th>ID</th>
				<th>Nome</th>
				<th>Descrição</th>
				<th>Projeto</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>D</td>
				<td>3</td>
				<td></td>
				<td></td>
                <td></td>
			</tr>
		</tbody>
	</table>
	
	<p>
		Comparar as bases <span system="conA" reference="conB" class="compareBase">A e B</span>
	</p>
	
	<p>
	Liberando JDBC 
	<span class="release" name="dataA">A</span>
	e
	<span class="release" name="dataB">B</span>.
	</p>
</body>
</html>